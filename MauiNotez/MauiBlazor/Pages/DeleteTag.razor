@using MauiBlazor.Data;
@using MauiBlazor.Models;
@using TodoSQLite.Data;

<SfDialog Width="250px" IsModal="true" Visible="true">
    <DialogTemplates>
        <Content> 

            Do you want to delete Tag with text "@Tag.Text"?

            <DialogButtons>
                <DialogButton Content="Save" IsPrimary="true" OnClick="@Submit" />
                <DialogButton Content="Cancel" OnClick="@Cancel" />
            </DialogButtons>
        </Content>
    </DialogTemplates>
</SfDialog>

@code {

    [Parameter] 
    public Tag Tag { get; set; }

    [Parameter]
    public EventCallback OnTagDeleted { get; set; }

    [Parameter]
    public EventCallback OnTagDeleteCancelled { get; set; }

    async Task Submit() { 

        var repo = new TagRepository();

        await repo.DeleteTagAsync(Tag);

        await OnTagDeleted.InvokeAsync();
    }

    private async Task Cancel()
    {
        await OnTagDeleteCancelled.InvokeAsync();
    }
}